{{ template "header" . }}

  <div class="is-size-7 has-text-grey mb-5 is-pulled-right">
    <span> Updated: {{.updated}} </span>
    {{ .meta }}

    {{ if .edit }}
    <a href="{{.edit}}" title="Ctrl+S">
      <span class="icon"><i class="fa-solid fa-pen"></i></span>
      <span>Edit</span>
    </a>
    {{ end }}
  </div>

  {{ template "common/title" .title }}

  <div class="view"> {{.content}} </div>

  {{ .afterView }}

<script>
 {{ if .edit }}
 document.addEventListener('keydown', e => {
     if ( e.key === 's' && ( e.metaKey || e.ctrlKey ) ) {
         e.preventDefault();
         document.location.pathname = "{{.edit}}";
     }
 });
 {{ end }}

 // This is a hack to display right to left text correctly
 document.querySelectorAll('.content *')
         .forEach( ele => ele.setAttribute("dir", "auto") );
</script>

{{ template "footer" . }}
