{{ template "header" . }}

<div class="container mt-5">
  <div class="columns">
    {{ if .sidebar }}
    <div class="column is-one-fifth"> {{ .sidebar }} </div>
    {{ end }}

    <div class="column">
      <div class="content" dir="auto" style="margin-bottom: 20em;">
        <p class="is-size-7 has-text-grey">
          <span class="icon"><i class="fa-solid fa-pen"></i></span>
          <span> Updated: {{.updated}} </span>
          {{ .meta }}
        </p>

        {{.content}}
      </div>
    </div>
  </div>
</div>

<style>
 .content p img:only-child{
     display: block;
     margin-right: auto;
     margin-left: auto;
 }
 .content h1, .content h2, .content h3,
 .content h4, .content h5, .content h6 {
     border-bottom: 1px solid #ddd;
     padding-bottom: 0.5em;
 }
 .content audio {
     width: 100%;
 }
</style>

<script>
 document.addEventListener('keydown', function(e) {
     const sCharCode = "S".charCodeAt();

     if ( e.keyCode === sCharCode && ( e.metaKey || e.ctrlKey ) ) {
         e.preventDefault();
         document.location.pathname = "{{.edit}}";
     }
 });

 // This is a hack to display right to left text correctly
 const selectors = [
     '.content p',
     '.content li',
     '.content h1',
     '.content h2',
     '.content h3',
     '.content h4',
     '.content h5',
     '.content h6'
 ].join(",")
 document.querySelectorAll(selectors).forEach(function(ele) {
     ele.setAttribute("dir", "auto")
 })
</script>

{{ template "footer" . }}
